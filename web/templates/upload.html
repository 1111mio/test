<!-- /*
 * @Description: 
 * @version: 
 * @Author: zkh lsm
 * @Date: 2024-8
 */ -->
 {% extends "base.html" %}

{% block title %}pcap文件上传{% endblock %}

{% block content %}
  <div class="container ">
    <div class="row justify-content-center">
      <div class="col-md-6 ">
        <div class="card mt-5 bg-transparent">
          <div  class="card-header  text-white rounded darkblue">
            <h5 class="text-center text-opacity-75">上传网络流量数据</h5>
          </div>
          <div  class="card-body transparent" >
            <form method="POST" enctype="multipart/form-data" action="/file_detection" id="uploadForm">
              <div class="form-group ">
                <h6 class="text-light" for="file">上传pcap文件:</h6>
                <input type="file" name="file" id="file" class="form-control-file text-light">
              </div>
              <div class="form-group">
                <label class="text-light" for="model_type ">选择模型类型:</label>
                <select name="model_type" id="model_type" class="form-control">
                  <option value="flow_CIC-IDS-2017" selected>flow_CIC-IDS-2017(推荐)</option>
                  <!-- 加密模型 -->
                  <option value="scts_CIC-IDS-2017">scts_CIC-IDS-2017</option>
                </select>
              </div>
              <div  class="bt ">
                <button type="submit" class="btn text-white" id="submitBtn">上传</button>
              </div>
              

              <div id="loading" class="text-center mt-3 d-none">
              <div class="spinner-border text-primary" role="status">
                <span class="sr-only">Loading...</span>
              </div>
              </div>

            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

<script>
  document.getElementById('uploadForm').addEventListener('submit', function () {
    document.getElementById('submitBtn').style.display = 'none';  // 隐藏提交按钮
    document.getElementById('loading').classList.remove('d-none');  // 显示加载图标
  });
</script>

<style>
#loading {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100px;
}
</style>

{% endblock %}
